<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chóoooo</title>
  <link rel="stylesheet" href="conchosss.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body, html {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    .outer-bg {
      background-color: #74ecf0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .side-bg {
        background-color: #ffe9ca;
        width: 70%;
        height: 70%;
        border-radius: 20px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }
    .center-box {
        background-color: #93cadf;
        width: 80%;
        height: 80%;
        border-radius: 15px;
        box-shadow: 0 0 5px rgba(0,0,0,0.1);
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }
    .heartRain, .element {
      position: fixed;
      font-size: 24px;
      pointer-events: none;
      z-index: 9999;
      transition: all 1s ease;
    }
    
  </style>
</head>
<body>
  <div class="outer-bg">
    <div class="side-bg">
      <div class="center-box">
        <div class="wrapper">
          <div class="formInput">
            <div class="boxHands">
              <div class="handsCat">
                <img src="../image/handsCat.png" alt="handsCat" />
              </div>
              <h1>Hello</h1>
            </div>
            <div class="boxSlider">
              <div class="listSlider">
                <div class="slider">
                  <img src="../image/cc.jpg" alt="slider1" />
                </div>
                <div class="slider">
                  <img src="../image/letters.png" alt="slider2" />
                </div>
              </div>
              <div class="left">
                <i class="fa-solid fa-chevron-left"></i>
              </div>
              <div class="right">
                <i class="fa-solid fa-chevron-right"></i>
              </div>
            </div>
            <div class="boxHandsInput">
              <div class="handsCatImgInput">
                <img src="../image/handsCat.png" alt="handsCatInput" />
              </div>
              <input type="text" id="inputField" placeholder="Nhập tên..." readonly />
            </div>
            <div class="buttonLove">
              <div class="cricleBtn"></div>
              <div class="button"></div>
            </div>
          </div>

          <div class="boxLine">
            <div class="boxCar">
              <img src="../image/car.gif" alt="car" />
            </div>
            <div class="boxCat">
              <img src="../image/cat2.gif" alt="cat" />
            </div>
            <div class="boxDog">
              <img src="../image/dog.gif" alt="dog" />
            </div>
            <div class="boxUmbrellaLine">
              <div class="boxUmbrella">
                <img src="../image/umbrella.png" alt="umbrella" />
              </div>
            </div>
            <div class="cloud-container">
              <!-- Mây sẽ được thêm bằng JS -->
            </div>
            <div class="boxHeart">
              <div class="heart1"></div>
              <div class="heart2"></div>
              <div class="heart3"></div>
              <div class="heart4"></div>
              <div class="heart5"></div>
              <div class="heart6"></div>
            </div>
            <div class="ground-line">
              <div>
                <span class="line1"></span>
                <span class="line2"></span>
                <span class="line3"></span>
                <span class="line4"></span>
                <span class="line5"></span>
                <span class="line1"></span>
                <span class="line2"></span>
                <span class="line3"></span>
                <span class="line4"></span>
                <span class="line5"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="wrapperLetterForm">
    <div class="boxLetter">
      <i class="fa-solid fa-xmark"></i>
      <div class="formLetter">
        <div class="heartLetter">
          <div class="heartLetterItem"></div>
        </div>
        <div class="heartLetter">
          <div class="heartLetterItem"></div>
        </div>
        <div class="wrapperLetter">
          <div class="giftbox">
            <div class="img">
              <img src="../image/cake.gif" alt="cake" />
            </div>
          </div>
          <div class="textLetter">
            <h2></h2>
            <p class="contentLetter"></p>
            <div class="heartAnimation">
              <img src="../image/heartAnimation.gif" alt="heart animation" />
            </div>
          </div>
          <div class="mewmew1">
            <img src="../image/mewmew.gif" alt="mewmew1" />
          </div>
          <div class="mewmew2">
            <img src="../image/mewmew.gif" alt="mewmew2" />
          </div>
        </div>
      </div>
      <div class="before"></div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
  <script>
    $(window).on('load', function(event) {
        $('body').removeClass('preloading');
                $('.loadingLove').delay(1000).fadeOut('fast');

                // Hiệu ứng icon 🎂 khi di chuyển và click chuột
                function getHeart(e) {
                    let ele = document.createElement("div");
                    ele.className = "element";
                    document.querySelector("body").prepend(ele);
                    ele.style.left = e.clientX + 'px';
                    ele.style.top = e.clientY - 10 + 'px';

                    setTimeout(() => {
                        let text = document.querySelectorAll(".element")[0];
                        let directionX = Math.random() < 0.5 ? -1 : 1;
                        let directionY = Math.random() < 0.5 ? -1 : 1;

                        text.style.left = parseInt(text.style.left) - (directionX * (Math.random() * 100)) + 'px';
                        text.style.top = parseInt(text.style.top) - (directionY * (Math.random() * 100)) + 'px';
                        text.style.opacity = 0;
                        text.style.transform = 'scale(0.4)';
                        text.innerHTML = "🎂";
                        text.style.zIndex = "100";

                        setTimeout(() => {
                            ele.remove();
                        }, 1000);
                    }, 10);
                }

                document.onmousemove = getHeart;
                document.onmousedown = getHeart;

                document.onclick = function(e) {
                    let ele = document.createElement("div");
                    ele.className = "heartRain";
                    document.querySelector("body").prepend(ele);

                    ele.style.left = e.clientX - 10 + 'px';
                    ele.style.top = e.clientY - 10 + 'px';
                    ele.innerHTML = "🎂";

                    setTimeout(() => {
                        const container = document.querySelector('.center-box');
                        const rect = container.getBoundingClientRect();
                        const randomX = rect.left + Math.random() * rect.width;
                        ele.style.left = randomX + "px";
                        ele.style.top = "calc(45% - 25px)";
                    }, 100);

                    setTimeout(() => {
                        ele.style.top = "calc(75% - 35px)";
                    }, 1300);

                    setTimeout(() => {
                        ele.style.opacity = 0;
                    }, 3000);

                    setTimeout(() => {
                        ele.remove();
                    }, 4000);
                }

                // Gõ tên "Thảo Nguyên"
                const inputField = document.getElementById('inputField');
                const textToType = "Thảo Nguyên"; 
                const typingSpeed = 100;
                let charIndex = 0;

                function typeText() {
                    if (charIndex < textToType.length) {
                        inputField.value += textToType.charAt(charIndex);
                        charIndex++;
                        setTimeout(typeText, typingSpeed);
                    }
                    if (inputField.value.length === textToType.length) {
                        setTimeout(() => {
                            document.querySelector(".buttonLove").style.transform = "translateY(0%)";
                            document.querySelector(".cricleBtn").style.transform = "scale(0.1)";
                        }, 1000);
                        setTimeout(() => {
                            document.querySelector(".cricleBtn").style.transform = "scale(1)";
                            document.querySelector(".cricleBtn").innerHTML = "💗";
                        }, 2000);
                        setTimeout(() => {
                            document.querySelector(".buttonLove").style.width = "120px";
                            document.querySelector(".button").style.transform = "translateX(25px)";
                        }, 2500);
                        setTimeout(() => {
                            document.querySelector(".button").style.width = "calc(100% - 25px)";
                            document.querySelector(".button").style.height = "10px";
                        }, 3000);
                        setTimeout(() => {
                            document.querySelector(".button").style.height = "30px";
                        }, 3500);
                        setTimeout(() => {
                            document.querySelector(".button").innerHTML = "Nhận thư";
                        }, 4000);
                    }
                }

                setTimeout(() => {
                    typeText();
                }, 11500);

                // Xử lý slider ảnh
                document.querySelector(".boxSlider .right").addEventListener("click", function() {
                    var slider = document.querySelectorAll(".slider");
                    document.querySelector(".listSlider").appendChild(slider[0]);
                });

                document.querySelector(".boxSlider .left").addEventListener("click", function() {
                    var slider = document.querySelectorAll(".slider");
                    document.querySelector(".listSlider").prepend(slider[slider.length - 1]);
                });

                // Thư tình
                let indexText = 0;
                let textLetter = document.querySelector('.textLetter h2');
                const textLetterH2 = "Gửi chó!";
                let timeoutTextLetter;

                function textCharLetter() {
                    if (indexText < textLetterH2.length) {
                        textLetter.textContent += textLetterH2[indexText];
                        indexText++;
                    } else {
                        clearInterval(timeoutTextLetter);
                        setTimeout(funcTimeoutLetterContent, 500);
                    }
                }

                function funcTimeoutLetter() {
                    indexText = 0;
                    textLetter.textContent = '';
                    clearInterval(timeoutTextLetter);
                    timeoutTextLetter = setInterval(() => {
                        textCharLetter();
                    }, 200);
                }

                // Nội dung thư
                let indexTextContent = 0;
                let textLetterContent = document.querySelector('.contentLetter');
                const textLetterP = "1 tuần có 7 ngày. 1 ngày có 24 giờ. 1 giờ có 60 phút. 1 phút có 60 giây. Không có một ngày hoặc giờ mà tôi không nhớ bạn. Không có giây phút nào mà anh không nghĩ đến cậu. Tâm hồn và trái tim tôi tràn ngập bạn. Nhớ và yêu em nhiều lắm.";
                let timeoutTextLetterContent;

                function textCharLetterContent() {
                    if (indexTextContent < textLetterP.length) {
                        textLetterContent.textContent += textLetterP[indexTextContent];
                        indexTextContent++;
                    } else {
                        clearInterval(timeoutTextLetterContent);
                    }
                }

                function funcTimeoutLetterContent() {
                    indexTextContent = 0;
                    textLetterContent.textContent = '';
                    clearInterval(timeoutTextLetterContent);
                    timeoutTextLetterContent = setInterval(() => {
                        textCharLetterContent();
                    }, 100);
                }

                // Click nút "Nhận thư" để tạo icon thư rơi
                document.querySelector(".buttonLove").addEventListener("click", function() {
                    let timeout = setInterval(() => {
                        let letters = document.createElement("div");
                        letters.className = "letters";
                        letters.innerHTML = '<img src="../image/letters.png" alt="">';
                        document.querySelector("body").prepend(letters);

                        let left = Math.floor(Math.random() * 100);
                        let rotate = Math.floor(Math.random() * 360);
                        letters.style.left = left + "%";
                        letters.style.top = "-10%";
                        letters.style.transform = `rotate(${rotate}deg)`;

                        setTimeout(() => {
                            letters.style.top = "100%";
                        }, 1000);

                        setTimeout(() => {
                            letters.remove();
                        }, 11000);

                        letters.addEventListener("click", function() {
                            clearInterval(timeout);
                            $(".wrapperLetterForm").fadeIn();
                            funcTimeoutLetter();
                        });
                    }, 500);
                });

                // Đóng thư (sửa lại gọn)
                document.querySelector(".fa-xmark").addEventListener("click", function() {
                    indexTextContent = 0;
                    textLetterContent.textContent = '';
                    clearInterval(timeoutTextLetterContent);
                    $(".wrapperLetterForm").fadeOut();
                });

                // Mây trôi
                const cloudContainer = document.querySelector('.cloud-container');
                const cloudImages = [
                    '../image/cloud1.png',
                    '../image/cloud2.png',
                    '../image/cloud3.png',
                    '../image/cloud4.png',
                    '../image/cloud5.png'
                ];

                let currentClouds = 0;

                function random(min, max) {
                    return Math.random() * (max - min) + min;
                }

                function createCloud() {
                    if (currentClouds >= 9) return;

                    const cloud = document.createElement('div');
                    cloud.classList.add('cloud');

                    const img = document.createElement('img');
                    img.src = cloudImages[Math.floor(Math.random() * cloudImages.length)];
                    cloud.appendChild(img);

                    cloud.style.top = `${random(20, 25)}vh`;
                    const duration = random(7, 17);
                    cloud.style.animationDuration = `${duration}s`;

                    const scale = random(1.5, 2.5);
                    cloud.style.transform = `scale(${scale}) translateX(100vw)`;

                    cloudContainer.appendChild(cloud);
                    currentClouds++;

                    cloud.addEventListener('animationend', () => {
                        cloud.remove();
                        currentClouds--;
                    });
                }

                setInterval(() => {
                    const shouldAdd = Math.random() < 0.7 || currentClouds < 11;
                    if (shouldAdd && currentClouds < 15) {
                        createCloud();
                    }
                }, 2000);
            });
                
  </script>
  </body>
</html>
